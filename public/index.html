<!DOCTYPE html>
<html>
  
  <!-- HEAD -->
  <head>
    <title>2-Dogwood Office</title>
    <!-- <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script> -->
    
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js"></script>
    <script src="https://unpkg.com/networked-aframe@^0.7.0/dist/networked-aframe.min.js"></script>

    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>
    <script src="/js/camrender.js"></script>

  </head>
  
  <!-- BODY -->
  <body>
    
    <!-- A-SCENE -->
    <a-scene networked-scene="
      room: basic;
      debug: true;
    ">
      
      <!-- A-ASSETS -->
      <a-asset>
        <a-asset-item id="ycr-office-floor-obj" src="/assets/YCR_eleVR_Room_14_Floor.obj"></a-asset-item>
        <a-asset-item id="ycr-office-floor-mtl" src="/assets/YCR_eleVR_Room_14_Floor.mtl"></a-asset-item>
        <a-asset-item id="ycr-office-obj" src="/assets/YCR_eleVR_Room_14_Structure.obj"></a-asset-item>
        <a-asset-item id="ycr-office-mtl" src="/assets/YCR_eleVR_Room_14_Structure.mtl"></a-asset-item> 

        <img id="sky" src="/assets/test-panorama.jpg"/>

	<img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg">

	<img id="wallTexture" src="/assets/black-paper.jpg">

	<canvas id="tv"></canvas>

      </a-asset>
              <!-- Avatar -->
        <template id="avatar-template">
          <a-entity class="avatar">
            <a-sphere class="head"
              color="#5985ff"
              scale="0.45 0.5 0.4"
              random-color
            ></a-sphere>
            <a-entity class="face"
              position="0 0.05 0"
            >
              <a-sphere class="eye"
                color="#efefef"
                position="0.16 0.1 -0.35"
                scale="0.12 0.12 0.12"
              >
                <a-sphere class="pupil"
                  color="#000"
                  position="0 0 -1"
                  scale="0.4 0.4 0.4"
                ></a-sphere>
              </a-sphere>
              <a-sphere class="eye"
                color="#efefef"
                position="-0.16 0.1 -0.35"
                scale="0.12 0.12 0.12"
              >
                <a-sphere class="pupil"
                  color="#000"
                  position="0 0 -1"
                  scale="0.4 0.4 0.4"
                ></a-sphere>
              </a-sphere>
            </a-entity>
          </a-entity>
        </template>
      
      <!-- A-COMPONENTS -->
      <a-obj-model src="#ycr-office-obj" scale="0.01 0.01 0.01" position="2.8 0 -2.4" rotation="0 270 0" mtl="#ycr-office-mtl">
	     
      </a-obj-model>
      <a-obj-model src="#ycr-office-floor-obj" scale="0.01 0.01 0.01" position="2.8 0 -2.4" rotation="0 270 0" mtl="#ycr-office-floor-mtl"></a-obj-model>
      <a-box id="office-wall-cover" src="#wallTexture" repeat="1 1" rotation="0 0 0" position="2.85 2.25 -5.48" color="#CCC" height="5" width="5" depth="0.25"></a-box>
      <!-- TV -->
      <a-plane position="2.8 2 -5.3" rotation="0 0 0" width="1.5" height="1"
								material="src:#tv; opacity: .95">
	      <a-entity camera="active: false" camrender="cid: tv"
					       position="0 0 0" rotation="0 180 0">
	      </a-entity>

      </a-plane>

      
     
      <a-sky src="#sky" rotation="0 180 0"></a-sky>
    

      <a-entity id="player"
                camera
                networked="template:#avatar-template;attachTemplateToLocal:false;"
                position="0 1.6 0"
                spawn-in-circle="radius:3"
                wasd-controls
                look-controls>
        <a-sphere class="head"
          visible="false"
          random-color
        ></a-sphere>
      </a-entity>

    </a-scene>

  
  </body>

</html>
